<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variables CSS</title>
    <link rel="stylesheet" href="./styles.css">
</head>
<body>
    <div id="result">
        hola
    </div>
    <input type="color" id="color" name="color" value="#ff0000">
    <script>
        // Get the root element
        var root = document.querySelector(':root');
        
        // Create a function for setting a variable value
        (function () {
            document.querySelector("#color").addEventListener("input", function(event) {
                const value = event.target.value;
                root.style.setProperty('--bg', value);

                var rs = getComputedStyle(root);
                document.getElementById('result').innerHTML = rs.getPropertyValue('--bg');
            });
        })()
    </script>
</body>
</html>